{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.AspNetCore": "Warning"
    }
  },
  "AllowedHosts": "*",
  "OpenTelemetry": {
    "Exporter": "Console",
    "MetricsExporter": "Console",
    "OtlpEndpoint": "http://localhost:4317"
  },
  "PerformanceMetrics": {
    "CollectionIntervalMs": 5000,
    "EnableSystemMetrics": true,
    "EnableApplicationMetrics": true,
    "EnableDatabaseMetrics": false,
    "EnableCacheMetrics": false,
    "EnableGrpcMetrics": true,
    "RetentionDays": 30
  },
  "Authentication": {
    "Jwt": {
      "SecretKey": "your-super-secret-key-here-at-least-256-bits-long-for-production-use-environment-variables",
      "Issuer": "ACS.WebApi",
      "Audience": "ACS.VerticalHost",
      "ExpirationHours": 24
    }
  },
  "RateLimit": {
    "Enabled": true,
    "KeyStrategy": "Combined",
    "DefaultPolicy": {
      "RequestLimit": 100,
      "WindowSizeSeconds": 60,
      "Algorithm": "SlidingWindow",
      "UseDistributedStorage": false,
      "PolicyName": "default",
      "Priority": 1
    },
    "TenantPolicies": {
      "tenant1": {
        "RequestLimit": 200,
        "WindowSizeSeconds": 60,
        "Algorithm": "SlidingWindow",
        "UseDistributedStorage": false,
        "PolicyName": "tenant1_enhanced",
        "Priority": 2
      },
      "tenant2": {
        "RequestLimit": 50,
        "WindowSizeSeconds": 60,
        "Algorithm": "SlidingWindow",
        "UseDistributedStorage": false,
        "PolicyName": "tenant2_basic",
        "Priority": 1
      }
    },
    "EndpointPolicies": [
      {
        "PathPattern": "/api/auth/login",
        "HttpMethods": ["POST"],
        "RequestLimit": 5,
        "WindowSizeSeconds": 300,
        "Algorithm": "SlidingWindow",
        "PolicyName": "auth_login",
        "Description": "Strict rate limiting for login attempts"
      },
      {
        "PathPattern": "/api/users",
        "HttpMethods": ["GET"],
        "RequestLimit": 1000,
        "WindowSizeSeconds": 60,
        "Algorithm": "SlidingWindow",
        "PolicyName": "users_read",
        "Description": "Higher limits for read operations"
      },
      {
        "PathPattern": "/api/users",
        "HttpMethods": ["POST", "PUT", "DELETE"],
        "RequestLimit": 20,
        "WindowSizeSeconds": 60,
        "Algorithm": "SlidingWindow",
        "PolicyName": "users_write",
        "Description": "Conservative limits for write operations"
      }
    ],
    "ExcludePaths": [
      "/health",
      "/metrics",
      "/swagger",
      "/api/health"
    ],
    "Storage": {
      "Type": "InMemory",
      "KeyPrefix": "rl:",
      "CleanupIntervalMinutes": 5,
      "MaxCacheEntries": 10000
    },
    "Monitoring": {
      "IntervalMinutes": 2,
      "CleanupIntervalMinutes": 10,
      "AlertThreshold": 0.7
    }
  },
  "ConnectionStrings": {
    "Redis": "localhost:6379"
  }
}
