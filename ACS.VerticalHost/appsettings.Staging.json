{
  "Logging": {
    "LogLevel": {
      "Default": "Information",
      "Microsoft.EntityFrameworkCore": "Warning",
      "Microsoft.Hosting.Lifetime": "Information",
      "ACS": "Debug",
      "Grpc": "Information"
    },
    "ApplicationInsights": {
      "LogLevel": {
        "Default": "Information"
      }
    },
    "Console": {
      "IncludeScopes": true,
      "TimestampFormat": "yyyy-MM-dd HH:mm:ss.fff ",
      "LogToStandardErrorThreshold": "Error"
    },
    "StructuredLogging": {
      "Enabled": true,
      "IncludeCorrelationId": true,
      "IncludeUserContext": true,
      "IncludeTimestamp": true,
      "Format": "Json"
    }
  },
  "Environment": "Staging",
  "ApplicationInsights": {
    "InstrumentationKey": "${APPINSIGHTS_INSTRUMENTATIONKEY_STAGING}",
    "ConnectionString": "${APPLICATIONINSIGHTS_CONNECTION_STRING_STAGING}"
  },
  "OpenTelemetry": {
    "Exporter": "Otlp",
    "MetricsExporter": "Otlp",
    "OtlpEndpoint": "${OTEL_EXPORTER_OTLP_ENDPOINT:http://jaeger-staging:4317}",
    "ServiceName": "${OTEL_SERVICE_NAME:ACS.VerticalHost.Staging}",
    "ServiceVersion": "${OTEL_SERVICE_VERSION:1.0.0-staging}",
    "TracingRatio": 0.5
  },
  "PerformanceMetrics": {
    "CollectionIntervalMs": 5000,
    "EnableSystemMetrics": true,
    "EnableApplicationMetrics": true,
    "EnableDatabaseMetrics": true,
    "EnableCacheMetrics": true,
    "EnableGrpcMetrics": true,
    "RetentionDays": 7,
    "MaxMetricPoints": 50000
  },
  "Dashboard": {
    "Enabled": true,
    "RefreshIntervalMs": 2000,
    "LogEvents": true,
    "ShowDetailedMetrics": true,
    "ShowSystemMetrics": true
  },
  "Database": {
    "MinPoolSize": 10,
    "MaxPoolSize": 100,
    "DbContextPoolSize": 128,
    "ConnectTimeout": 30,
    "ConnectRetryCount": 3,
    "ConnectRetryInterval": 10,
    "CommandTimeout": 30,
    "EFRetryCount": 3,
    "EFRetryDelaySeconds": 5,
    "Encrypt": true,
    "TrustServerCertificate": true,
    "EnableDetailedErrors": true,
    "EnableSensitiveDataLogging": false,
    "EnableQuerySplitting": true,
    "EnableChangeTracking": false,
    "UseRowNumberForPaging": true,
    "EnableServiceProviderCaching": true,
    "EnableThreadSafetyChecks": true,
    "Batching": {
      "EnableBatching": true,
      "MinBatchSize": 2,
      "MaxBatchSize": 50,
      "BatchTimeoutMs": 1000
    }
  },
  "Grpc": {
    "EnableDetailedErrors": true,
    "MaxReceiveMessageSize": 4194304,
    "MaxSendMessageSize": 4194304,
    "CompressionLevel": "Optimal",
    "CompressionProvider": "gzip",
    "KeepAlivePermitWithoutCalls": true,
    "KeepAliveTimeoutSeconds": 20,
    "KeepAliveIntervalSeconds": 30,
    "MaxConcurrentStreams": 50
  },
  "Compression": {
    "Gzip": {
      "Level": "Optimal"
    },
    "Brotli": {
      "Level": "Optimal"
    }
  },
  "Authentication": {
    "Jwt": {
      "SecretKey": "${JWT_SECRET_STAGING}",
      "Issuer": "${JWT_ISSUER:ACS.WebApi.Staging}",
      "Audience": "${JWT_AUDIENCE:ACS.VerticalHost.Staging}",
      "ExpirationHours": "${JWT_EXPIRATION_HOURS:24}",
      "ClockSkew": 300
    }
  },
  "Encryption": {
    "KeyStoragePath": "/app/keys",
    "MasterKey": "${ENCRYPTION_MASTER_KEY_STAGING}",
    "KeyRotationIntervalDays": 30,
    "EnableDatabaseLevelEncryption": true,
    "EnableFieldLevelEncryption": true,
    "EncryptionAlgorithm": "AES-256-GCM"
  },
  "Tenants": {
    "tenant1": {
      "Encryption": {
        "Algorithm": "AES-256-GCM",
        "KeyRotationIntervalDays": 30,
        "EnableFieldLevelEncryption": true,
        "EnableDatabaseLevelEncryption": true,
        "EncryptedFields": [
          "FullName", "EmailAddress", "PhoneNumber", "SocialSecurityNumber", 
          "Address", "DateOfBirth", "EmergencyContact", "MedicalInformation", 
          "FinancialInformation"
        ]
      },
      "Performance": {
        "MaxConcurrentCommands": 20,
        "CommandTimeoutSeconds": 30,
        "QueryTimeoutSeconds": 15,
        "CacheSize": 500,
        "EnablePreloading": true
      },
      "RateLimiting": {
        "CommandsPerSecond": 50,
        "BurstSize": 100,
        "QueueSize": 500
      }
    },
    "tenant2": {
      "Encryption": {
        "Algorithm": "AES-256-GCM",
        "KeyRotationIntervalDays": 30,
        "EnableFieldLevelEncryption": true,
        "EnableDatabaseLevelEncryption": false,
        "EncryptedFields": [
          "FullName", "EmailAddress", "SocialSecurityNumber", "FinancialInformation"
        ]
      },
      "Performance": {
        "MaxConcurrentCommands": 15,
        "CommandTimeoutSeconds": 30,
        "QueryTimeoutSeconds": 15,
        "CacheSize": 250,
        "EnablePreloading": false
      },
      "RateLimiting": {
        "CommandsPerSecond": 25,
        "BurstSize": 50,
        "QueueSize": 250
      }
    }
  },
  "CommandBuffer": {
    "ChannelCapacity": 500,
    "MaxConcurrentCommands": 25,
    "CommandTimeoutSeconds": 30,
    "HealthCheckIntervalSeconds": 30,
    "EnableMetrics": true,
    "EnableTracing": true
  },
  "HealthChecks": {
    "EnablePeriodicChecks": true,
    "CheckIntervalSeconds": 30,
    "InitialDelaySeconds": 30,
    "MaxHistoryEntries": 200
  },
  "Monitoring": {
    "EnableMetrics": true,
    "MetricsRetentionHours": 48,
    "EnableDashboards": true,
    "EnablePrometheusEndpoint": true,
    "EnableRealTimeStream": true
  },
  "Diagnostics": {
    "EnableDiagnosticEndpoints": true,
    "MemoryDumpPath": "/tmp/dumps",
    "MaxDumpFiles": 10,
    "AutoCleanupDays": 7,
    "PerformanceCounters": {
      "EnableCustomCounters": true,
      "CollectionIntervalSeconds": 30
    },
    "Export": {
      "DefaultFormat": "Json",
      "EnableStackTraces": true,
      "EnableMemoryDumps": true,
      "MaxExportSizeMB": 100
    }
  },
  "FeatureFlags": {
    "EnableDebugEndpoints": true,
    "EnableTestData": false,
    "EnableVerboseLogging": true,
    "EnableDeveloperExceptions": true,
    "EnableCommandLogging": true
  },
  "Security": {
    "EnableSecurityHeaders": true,
    "ValidateIncomingCertificates": false,
    "RequireClientCertificates": false,
    "AllowedCertificateThumbprints": []
  },
  "ResourceLimits": {
    "MaxMemoryUsagePercent": 70,
    "MaxCpuUsagePercent": 70,
    "MaxDiskUsagePercent": 80,
    "GarbageCollectionStrategy": "Server",
    "EnableCompactOnIdle": true
  }
}