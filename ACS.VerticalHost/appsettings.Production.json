{
  "Logging": {
    "LogLevel": {
      "Default": "Warning",
      "Microsoft.EntityFrameworkCore": "Error",
      "Microsoft.Hosting.Lifetime": "Information",
      "ACS": "Information",
      "Grpc": "Warning"
    },
    "ApplicationInsights": {
      "LogLevel": {
        "Default": "Information"
      }
    },
    "Console": {
      "IncludeScopes": true,
      "TimestampFormat": "yyyy-MM-dd HH:mm:ss.fff ",
      "LogToStandardErrorThreshold": "Error"
    },
    "StructuredLogging": {
      "Enabled": true,
      "IncludeCorrelationId": true,
      "IncludeUserContext": true,
      "IncludeTimestamp": true,
      "Format": "Json"
    }
  },
  "Environment": "Production",
  "ApplicationInsights": {
    "InstrumentationKey": "${APPINSIGHTS_INSTRUMENTATIONKEY}",
    "ConnectionString": "${APPLICATIONINSIGHTS_CONNECTION_STRING}"
  },
  "OpenTelemetry": {
    "Exporter": "Otlp",
    "MetricsExporter": "Otlp",
    "OtlpEndpoint": "${OTEL_EXPORTER_OTLP_ENDPOINT}",
    "ServiceName": "${OTEL_SERVICE_NAME:ACS.VerticalHost}",
    "ServiceVersion": "${OTEL_SERVICE_VERSION:1.0.0}",
    "TracingRatio": 0.1
  },
  "PerformanceMetrics": {
    "CollectionIntervalMs": 10000,
    "EnableSystemMetrics": true,
    "EnableApplicationMetrics": true,
    "EnableDatabaseMetrics": true,
    "EnableCacheMetrics": true,
    "EnableGrpcMetrics": true,
    "RetentionDays": 7,
    "MaxMetricPoints": 10000
  },
  "Dashboard": {
    "Enabled": false,
    "RefreshIntervalMs": 5000,
    "LogEvents": false,
    "ShowDetailedMetrics": false
  },
  "Database": {
    "MinPoolSize": 20,
    "MaxPoolSize": 200,
    "DbContextPoolSize": 256,
    "ConnectTimeout": 30,
    "ConnectRetryCount": 5,
    "ConnectRetryInterval": 10,
    "CommandTimeout": 60,
    "EFRetryCount": 5,
    "EFRetryDelaySeconds": 10,
    "Encrypt": true,
    "TrustServerCertificate": false,
    "EnableDetailedErrors": false,
    "EnableSensitiveDataLogging": false,
    "EnableQuerySplitting": true,
    "EnableChangeTracking": false,
    "UseRowNumberForPaging": true,
    "EnableServiceProviderCaching": true,
    "EnableThreadSafetyChecks": false,
    "Batching": {
      "EnableBatching": true,
      "MinBatchSize": 2,
      "MaxBatchSize": 100,
      "BatchTimeoutMs": 500
    },
    "Performance": {
      "EnableConnectionPooling": true,
      "ConnectionLifetimeSeconds": 300,
      "MaxRetryCount": 5,
      "MaxRetryDelaySeconds": 30
    }
  },
  "Grpc": {
    "EnableDetailedErrors": false,
    "MaxReceiveMessageSize": 4194304,
    "MaxSendMessageSize": 4194304,
    "CompressionLevel": "Optimal",
    "CompressionProvider": "gzip",
    "KeepAlivePermitWithoutCalls": true,
    "KeepAliveTimeoutSeconds": 20,
    "KeepAliveIntervalSeconds": 30,
    "MaxConcurrentStreams": 100
  },
  "Compression": {
    "Gzip": {
      "Level": "Optimal"
    },
    "Brotli": {
      "Level": "Optimal"
    }
  },
  "Authentication": {
    "Jwt": {
      "SecretKey": "${JWT_SECRET}",
      "Issuer": "${JWT_ISSUER:ACS.WebApi}",
      "Audience": "${JWT_AUDIENCE:ACS.VerticalHost}",
      "ExpirationHours": "${JWT_EXPIRATION_HOURS:8}",
      "ClockSkew": 300
    }
  },
  "Encryption": {
    "KeyStoragePath": "/app/keys",
    "MasterKey": "${ENCRYPTION_MASTER_KEY}",
    "KeyRotationIntervalDays": 90,
    "EnableDatabaseLevelEncryption": true,
    "EnableFieldLevelEncryption": true,
    "EncryptionAlgorithm": "AES-256-GCM"
  },
  "Tenants": {
    "tenant1": {
      "Encryption": {
        "Algorithm": "AES-256-GCM",
        "KeyRotationIntervalDays": 60,
        "EnableFieldLevelEncryption": true,
        "EnableDatabaseLevelEncryption": true,
        "EncryptedFields": [
          "FullName", "EmailAddress", "PhoneNumber", "SocialSecurityNumber", 
          "Address", "DateOfBirth", "EmergencyContact", "MedicalInformation", 
          "FinancialInformation"
        ]
      },
      "Performance": {
        "MaxConcurrentCommands": 50,
        "CommandTimeoutSeconds": 60,
        "QueryTimeoutSeconds": 30,
        "CacheSize": 1000,
        "EnablePreloading": true
      },
      "RateLimiting": {
        "CommandsPerSecond": 100,
        "BurstSize": 200,
        "QueueSize": 1000
      }
    },
    "tenant2": {
      "Encryption": {
        "Algorithm": "AES-256-GCM",
        "KeyRotationIntervalDays": 90,
        "EnableFieldLevelEncryption": true,
        "EnableDatabaseLevelEncryption": false,
        "EncryptedFields": [
          "FullName", "EmailAddress", "SocialSecurityNumber", "FinancialInformation"
        ]
      },
      "Performance": {
        "MaxConcurrentCommands": 30,
        "CommandTimeoutSeconds": 45,
        "QueryTimeoutSeconds": 20,
        "CacheSize": 500,
        "EnablePreloading": false
      },
      "RateLimiting": {
        "CommandsPerSecond": 50,
        "BurstSize": 100,
        "QueueSize": 500
      }
    }
  },
  "CommandBuffer": {
    "ChannelCapacity": 1000,
    "MaxConcurrentCommands": 50,
    "CommandTimeoutSeconds": 60,
    "HealthCheckIntervalSeconds": 30,
    "EnableMetrics": true,
    "EnableTracing": true
  },
  "HealthChecks": {
    "EnablePeriodicChecks": true,
    "CheckIntervalSeconds": 60,
    "InitialDelaySeconds": 60,
    "MaxHistoryEntries": 100
  },
  "Monitoring": {
    "EnableMetrics": true,
    "MetricsRetentionHours": 24,
    "EnableDashboards": false,
    "EnablePrometheusEndpoint": true,
    "EnableRealTimeStream": false
  },
  "Diagnostics": {
    "EnableDiagnosticEndpoints": false,
    "MemoryDumpPath": "/tmp/dumps",
    "MaxDumpFiles": 5,
    "AutoCleanupDays": 3,
    "PerformanceCounters": {
      "EnableCustomCounters": true,
      "CollectionIntervalSeconds": 60
    },
    "Export": {
      "DefaultFormat": "Json",
      "EnableStackTraces": false,
      "EnableMemoryDumps": false,
      "MaxExportSizeMB": 50
    }
  },
  "FeatureFlags": {
    "EnableDebugEndpoints": false,
    "EnableTestData": false,
    "EnableVerboseLogging": false,
    "EnableDeveloperExceptions": false,
    "EnableCommandLogging": false
  },
  "Security": {
    "EnableSecurityHeaders": true,
    "ValidateIncomingCertificates": true,
    "RequireClientCertificates": false,
    "AllowedCertificateThumbprints": ["${ALLOWED_CERT_THUMBPRINTS}"]
  },
  "ResourceLimits": {
    "MaxMemoryUsagePercent": 80,
    "MaxCpuUsagePercent": 80,
    "MaxDiskUsagePercent": 85,
    "GarbageCollectionStrategy": "Server",
    "EnableCompactOnIdle": true
  }
}